# Бот для мониторинга сроков годности и остатков товара в онлайн-сервисе МойСклад
Получает продукты и группы товаров через API МойСклад. Сортирует товары в которых содержится минимальный остаток и доп поле "Срок годности".
По остаткам сверяет мин. баланс с фактическим остатком. По срокам - дату годности с датой сейчас.
Если соответствует условиям, собирает сообщения пачкой, сортирует по категориям товаров и отправляет в Телеграм бота.
## Настройка
1. Установить зависимости из файла "requirements.txt". Например, через [pip install](https://re-py-course.vercel.app/python/pip).
2. Создать файл .env с таким содержанием:
```
BOT_TOKEN="Токен телеграм бота"
MS_TOKEN="Токен МойСклад"
CHAT_ID= АйДи чата или канала, в который будут отправлены сообщения.
```
3. В модуле config.py задать нужные параметры.
```
    CHECK_INTERVAL_MINUTES: int = 720 # Интервал цикла проверки.
    DAYS_TO_KEEP: int = 30 # Колличество дней, до сброса лог файлов.
    CACHE_RESET_DAYS: int = 30 # Колличество дней, до сброса кэш файлов.
    API_REQUEST_LIMIT: int = 500 # Лимит запроса колличества товаров за один раз (Для Мойсклад максимум 1000 товаров за запрос).
```
4. Добавить бот в телеграм канал с админ правами.
5. Запустить скрипт. (Для пользователей вин. нужно запустить run_hidden.vbs 
Таким образом, скрипт будет работать в фоне, без вызова командной строки.
Для остановки скрипта, выполнить KillTask.cmd)